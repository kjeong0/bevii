<head>
    <title>MakeItRain Corp</title>
</head>

<body>
    <h1>Rock, Paper, Scissors Posse</h1>
    {{> userCount}}
    {{> loginButtons}}
    {{#if currentUser}}
        {{> rps}}
    {{/if}}
</body>

<template name="matches">
    {{#each matches}}
        matchName
    {{/each}}
</template>

<template name="rps">
    {{#if userInMatch}}
        {{#each matches}}
            <div>
                <h3>{{playerOne}} vs. {{playerTwo}}</h3>
                {{#if makeMove}}
                    <div>
                        <button id="rock" class="rps" value="rock">Rock</button>
                        <button id="paper" class="rps" value="paper">Paper</button>
                        <button id="scissors" class="rps" value="scissors">Scissors</button>
                        <p>Select your move!</p>
                    </div>
                {{else}}
                    {{#if waitingForOtherPlayer}}
                    <div>Waiting for other player</div>
                    {{else}}
                    <div>Winner is {{winner}}</div>
                    {{/if}}
                {{/if}}
            </div>
        {{/each}}
    {{else}}
        <div>
            <p>Challenge someone above!</p>
        </div>
    {{/if}}
</template>

<template name="userCount">
    <div>
        <h2>{{usersOnlineCount}} human beings online</h2>
        <h2>Challenge someone!</h2>
        {{#each usersOnline}}
            <div>
                <button class="user" value="{{username}}">{{username}}</button>
            </div>
        {{/each}}
    </div>
</template>
